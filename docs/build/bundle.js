var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,c;function u(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function b(t){c=t}function v(){if(!c)throw new Error("Function called outside component initialization");return c}function y(){const t=v();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}const N=[],x=[],w=[],U=[],E=Promise.resolve();let O=!1;function I(t){w.push(t)}const k=new Set;let S=0;function D(){const t=c;do{for(;S<N.length;){const t=N[S];S++,b(t),C(t.$$)}for(b(null),N.length=0,S=0;x.length;)x.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];k.has(e)||(k.add(e),e())}w.length=0}while(N.length);for(;U.length;)U.pop()();O=!1,k.clear(),b(t)}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const A=new Set;let L;function R(t,e){t&&t.i&&(A.delete(t),t.i(e))}function T(t,e,n,r){if(t&&t.o){if(A.has(t))return;A.add(t),L.c.push((()=>{A.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function F(t,e){t.d(1),e.delete(t.key)}function G(t){t&&t.c()}function j(t,n,l,s){const{fragment:c,on_mount:u,on_destroy:i,after_update:a}=t.$$;c&&c.m(n,l),s||I((()=>{const n=u.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(I)}function B(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function M(t,e){-1===t.$$.dirty[0]&&(N.push(t),O||(O=!0,E.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,o,l,s,u,i,a,p=[-1]){const d=c;b(e);const h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:o.target||d.$$.root};a&&a(h.root);let m=!1;if(h.ctx=l?l(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),m&&M(e,t)),n})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);h.fragment&&h.fragment.l(t),t.forEach(f)}else h.fragment&&h.fragment.c();o.intro&&R(e.$$.fragment),j(e,o.target,o.anchor,o.customElement),D()}b(d)}class q{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const z={fetchUserByUserName:t=>fetch(`https://api.github.com/users/${t}`),fetchRepositoriesByUserName:t=>fetch(`https://api.github.com/users/${t}/repos?per_page=5&sort=created`)};function H(e){let n,o,l,s,c,u,g,b;return{c(){n=p("form"),o=p("label"),l=d("Profile name:\n        "),s=p("input"),c=h(),u=p("button"),u.textContent="Search",$(s,"type","text")},m(t,r){var f;a(t,n,r),i(n,o),i(o,l),i(o,s),_(s,e[0]),i(o,c),i(o,u),g||(b=[m(s,"input",e[2]),m(n,"submit",(f=e[1],function(t){return t.preventDefault(),f.call(this,t)}))],g=!0)},p(t,[e]){1&e&&s.value!==t[0]&&_(s,t[0])},i:t,o:t,d(t){t&&f(n),g=!1,r(b)}}}function W(t,e,n){const r=y();let o;return[o,function(){r("search",{profileName:o})},function(){o=this.value,n(0,o)}]}class J extends q{constructor(t){super(),P(this,t,W,H,l,{})}}function K(e){let n,r,o,l,s;return{c(){n=p("h1"),n.textContent="Welcome to Github Search!",r=h(),o=p("p"),o.textContent="Search your github profile name to see your profile card.",l=h(),s=p("hr")},m(t,e){a(t,n,e),a(t,r,e),a(t,o,e),a(t,l,e),a(t,s,e)},p:t,i:t,o:t,d(t){t&&f(n),t&&f(r),t&&f(o),t&&f(l),t&&f(s)}}}class Q extends q{constructor(t){super(),P(this,t,null,K,l,{})}}function V(t,e,n){const r=t.slice();return r[4]=e[n],r}function X(t){let e,n,r,o=[],l=new Map,s=t[0];const c=t=>t[4].id;for(let e=0;e<s.length;e+=1){let n=V(t,s,e),r=c(n);l.set(r,o[e]=tt(r,n))}return{c(){e=p("p"),e.textContent="Here are the last five repositories of this user:",n=h(),r=p("ul");for(let t=0;t<o.length;t+=1)o[t].c();$(e,"class","svelte-dhy9hd")},m(t,l){a(t,e,l),a(t,n,l),a(t,r,l);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(t,e){1&e&&(s=t[0],o=function(t,e,n,r,o,l,s,c,u,i,a,f){let p=t.length,d=l.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const $=[],g=new Map,_=new Map;for(h=d;h--;){const t=f(o,l,h),c=n(t);let u=s.get(c);u?r&&u.p(t,e):(u=i(c,t),u.c()),g.set(c,$[h]=u),c in m&&_.set(c,Math.abs(h-m[c]))}const b=new Set,v=new Set;function y(t){R(t,1),t.m(c,a),s.set(t.key,t),a=t.first,d--}for(;p&&d;){const e=$[d-1],n=t[p-1],r=e.key,o=n.key;e===n?(a=e.first,p--,d--):g.has(o)?!s.has(r)||b.has(r)?y(e):v.has(o)?p--:_.get(r)>_.get(o)?(v.add(r),y(e)):(b.add(o),p--):(u(n,s),p--)}for(;p--;){const e=t[p];g.has(e.key)||u(e,s)}for(;d;)y($[d-1]);return $}(o,e,c,1,t,s,l,r,F,tt,null,V))},d(t){t&&f(e),t&&f(n),t&&f(r);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Y(e){let n;return{c(){n=p("p"),n.textContent="This user has no repositories.",$(n,"class","svelte-dhy9hd")},m(t,e){a(t,n,e)},p:t,d(t){t&&f(n)}}}function Z(e){let n;return{c(){n=p("p"),n.textContent="Loading user repositories...",$(n,"class","svelte-dhy9hd")},m(t,e){a(t,n,e)},p:t,d(t){t&&f(n)}}}function tt(t,e){let n,r,o,l,s,c=e[4].full_name+"";return{key:t,first:null,c(){n=p("li"),r=p("a"),o=d(c),s=h(),$(r,"href",l=e[4].html_url),$(r,"target","_blank"),this.first=n},m(t,e){a(t,n,e),i(n,r),i(r,o),i(n,s)},p(t,n){e=t,1&n&&c!==(c=e[4].full_name+"")&&g(o,c),1&n&&l!==(l=e[4].html_url)&&$(r,"href",l)},d(t){t&&f(n)}}}function et(e){let n;function r(t,e){return t[1]?Z:t[2]?Y:X}let o=r(e),l=o(e);return{c(){n=p("div"),l.c(),$(n,"class","user-repositories svelte-dhy9hd")},m(t,e){a(t,n,e),l.m(n,null)},p(t,[e]){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&f(n),l.d()}}}function nt(t,e,n){let r,{profileName:o}=e,l=!0,s=[];var c;return c=async()=>{const t=await z.fetchRepositoriesByUserName(o),e=await t.json();n(0,s=e),n(1,l=!1)},v().$$.on_mount.push(c),t.$$set=t=>{"profileName"in t&&n(3,o=t.profileName)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=0===s.length)},[s,l,r,o]}class rt extends q{constructor(t){super(),P(this,t,nt,et,l,{profileName:3})}}function ot(t){let e,n,r,o,l,s,c,m,_,b,v,y,N,x,w,U,E,O,I,k,S,D,C,A,L,F,M,P,q,z,H,W=t[0].name+"",J=t[0].login+"",K=t[0].bio+"",Q=t[0].public_repos+"",V=t[0].followers+"";return z=new rt({props:{profileName:t[0].login}}),{c(){e=p("div"),n=p("img"),o=h(),l=p("div"),s=p("p"),c=d(W),m=d(" ("),_=d(J),b=d(")"),v=h(),y=p("p"),N=p("i"),x=d(K),w=h(),U=p("p"),E=p("strong"),E.textContent="Repositories:",O=h(),I=d(Q),k=h(),S=p("p"),D=p("strong"),D.textContent="Followers:",C=h(),A=d(V),L=h(),F=p("a"),M=d("Profile page"),q=h(),G(z.$$.fragment),u(n.src,r=t[0].avatar_url)||$(n,"src",r),$(n,"alt","user avatar from github profile"),$(n,"class","svelte-vchblg"),$(s,"class","svelte-vchblg"),$(y,"class","svelte-vchblg"),$(U,"class","svelte-vchblg"),$(S,"class","svelte-vchblg"),$(F,"href",P=t[0].html_url),$(F,"target","_blank"),$(l,"class","user-info svelte-vchblg"),$(e,"class","user-card svelte-vchblg")},m(t,r){a(t,e,r),i(e,n),i(e,o),i(e,l),i(l,s),i(s,c),i(s,m),i(s,_),i(s,b),i(l,v),i(l,y),i(y,N),i(N,x),i(l,w),i(l,U),i(U,E),i(U,O),i(U,I),i(l,k),i(l,S),i(S,D),i(S,C),i(S,A),i(l,L),i(l,F),i(F,M),i(e,q),j(z,e,null),H=!0},p(t,[e]){(!H||1&e&&!u(n.src,r=t[0].avatar_url))&&$(n,"src",r),(!H||1&e)&&W!==(W=t[0].name+"")&&g(c,W),(!H||1&e)&&J!==(J=t[0].login+"")&&g(_,J),(!H||1&e)&&K!==(K=t[0].bio+"")&&g(x,K),(!H||1&e)&&Q!==(Q=t[0].public_repos+"")&&g(I,Q),(!H||1&e)&&V!==(V=t[0].followers+"")&&g(A,V),(!H||1&e&&P!==(P=t[0].html_url))&&$(F,"href",P);const o={};1&e&&(o.profileName=t[0].login),z.$set(o)},i(t){H||(R(z.$$.fragment,t),H=!0)},o(t){T(z.$$.fragment,t),H=!1},d(t){t&&f(e),B(z)}}}function lt(t,e,n){let{user:r}=e;return t.$$set=t=>{"user"in t&&n(0,r=t.user)},[r]}class st extends q{constructor(t){super(),P(this,t,lt,ot,l,{user:0})}}function ct(t){let e;return{c(){e=p("p"),e.textContent="..."},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function ut(t){let e;return{c(){e=p("p"),e.textContent="loading..."},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function it(t){let e,n;return e=new st({props:{user:t[1]}}),{c(){G(e.$$.fragment)},m(t,r){j(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.user=t[1]),e.$set(r)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function at(t){let e;return{c(){e=p("p"),e.textContent="user not found."},m(t,n){a(t,e,n)},d(t){t&&f(e)}}}function ft(t){let e,n,o,l,s,c,u,d,m;n=new Q({}),l=new J({}),l.$on("search",t[3]);let g=t[2]===t[0].INITIAL&&ct(),_=t[2]===t[0].LOADING&&ut(),b=t[2]===t[0].USER_FOUND&&it(t),v=t[2]===t[0].USER_NOT_FOUND&&at();return{c(){e=p("main"),G(n.$$.fragment),o=h(),G(l.$$.fragment),s=h(),g&&g.c(),c=h(),_&&_.c(),u=h(),b&&b.c(),d=h(),v&&v.c(),$(e,"class","svelte-l2o93v")},m(t,r){a(t,e,r),j(n,e,null),i(e,o),j(l,e,null),i(e,s),g&&g.m(e,null),i(e,c),_&&_.m(e,null),i(e,u),b&&b.m(e,null),i(e,d),v&&v.m(e,null),m=!0},p(t,[n]){t[2]===t[0].INITIAL?g||(g=ct(),g.c(),g.m(e,c)):g&&(g.d(1),g=null),t[2]===t[0].LOADING?_||(_=ut(),_.c(),_.m(e,u)):_&&(_.d(1),_=null),t[2]===t[0].USER_FOUND?b?(b.p(t,n),5&n&&R(b,1)):(b=it(t),b.c(),R(b,1),b.m(e,d)):b&&(L={r:0,c:[],p:L},T(b,1,1,(()=>{b=null})),L.r||r(L.c),L=L.p),t[2]===t[0].USER_NOT_FOUND?v||(v=at(),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(t){m||(R(n.$$.fragment,t),R(l.$$.fragment,t),R(b),m=!0)},o(t){T(n.$$.fragment,t),T(l.$$.fragment,t),T(b),m=!1},d(t){t&&f(e),B(n),B(l),g&&g.d(),_&&_.d(),b&&b.d(),v&&v.d()}}}function pt(t,e,n){var r;!function(t){t[t.INITIAL=0]="INITIAL",t[t.USER_NOT_FOUND=1]="USER_NOT_FOUND",t[t.USER_FOUND=2]="USER_FOUND",t[t.LOADING=3]="LOADING"}(r||(r={}));let o=null,l=r.INITIAL;return[r,o,l,async function(t){n(2,l=r.LOADING);const e=await z.fetchUserByUserName(t.detail.profileName),s=await e.json();e.ok?(n(1,o={login:s.login,avatar_url:s.avatar_url,html_url:s.html_url,name:s.name,bio:s.bio,public_repos:s.public_repos,followers:s.followers}),n(2,l=r.USER_FOUND)):n(2,l=r.USER_NOT_FOUND)}]}return new class extends q{constructor(t){super(),P(this,t,pt,ft,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
